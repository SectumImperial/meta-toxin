include ../button/button.pug

mixin datepicker(options = {}) 
  -
    const { 
      isTwoInput = true,
      isOnlyCal = false,
      labelStart = 'Прибытие',
      labelEnd = 'Выезд',
      labelAlone = 'Даты пребывания в отеле',
      } = options


    let classModField = isTwoInput ? 'datepicker__fields_two-fields' : 'datepicker_fields_1'
    if (isOnlyCal) classModField += 'datepicker__fields_hidden'
    const datepickerClass = isTwoInput ? 'js-datepicker_two-fields' : 'js-datepicker_one-field'

  .datepicker.js-datepicker(
    class = datepickerClass
  )
    .datepicker__fields(
      class = classModField
    )

      if(isTwoInput && !isOnlyCal)
        .datepicker__group.js-datepicker__group
          label(
            for = "booking-enter",
            class = "datepicker__label js-datepicker__label",
          )= labelStart
          .datepicker__input
            input(
              type = "text",
              id = "booking-enter",
              class = "datepicker__field datepicker__field_readonly js-datepicker_start js-datepicker__field datepicker_dateInput",
              name = "datepicker-input-start",
              placeholder = "ДД.ММ.ГГГГ",
              pattern = "[0-9]{2}.[0-9]{2}.[0-9]{4}",
              required
            )
            .datepicker__icon
        .datepicker__group.js-datepicker__group
          label(
            for = "booking-out",
            class = "datepicker__label js-datepicker__label"
          )= labelEnd
          .datepicker__input
            input(
              type = "text",
              id = "booking-out",
              class = "datepicker__field datepicker__field_readonly js-datepicker_end js-datepicker__field _dateInput",
              name = "datepicker-input-end",
              placeholder = "ДД.ММ.ГГГГ",
              pattern = "[0-9]{2}.[0-9]{2}.[0-9]{4}",
              required
              )
            .datepicker__icon
        .datepicker__container.js-datepicker__container
          .datepicker__btns
            .datepicker__button.datepicker__button_clear.js-datepicker__button_clear
              +button({
                content: 'Очистить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })
            .datepicker__button.datepicker__button_accept.js-datepicker__button_accept
              +button({
                content: 'Применить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })
      else if(!isTwoInput && !isOnlyCal)
        .datepicker__group.js-datepicker__group
          label(
            for = "booking-dates",
            class = "datepicker__label js-datepicker__label"
            )= labelAlone
          .datepicker__input
            input(
              type = "text",
              id = "booking-dates",
              class = "datepicker__field datepicker__field_readonly datepicker-dates js-datepicker-dates js-datepicker__field",
              name = "datepicker-input-dates",
              placeholder = "дд.мм - дд.мм",
              pattern = "[0-9]{2}.[0-9]{2}.[0-9]{4}",
              readonly
            )
            .datepicker__icon
        .datepicker__container.datepicker__container_small.js-datepicker__container
          .datepicker__btns
            .datepicker__button.datepicker__button_clear.js-datepicker__button_clear
              +button({
                content: 'Очистить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })
            .datepicker__button.datepicker__button_accept.js-datepicker__button_accept
              +button({
                content: 'Применить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })

      else if(isOnlyCal)
        .datepicker__group.js-datepicker__group.datepicker__group_hidden
          label(
            for = "booking-enter",
            class = "datepicker__label js-datepicker__label",
          ) Прибытие
          .datepicker__input
            input(
              type = "text",
              id = "booking-enter",
              class = "datepicker__field datepicker__field_readonly js-datepicker_start js-datepicker__field datepicker_dateInput",
              name = "datepicker-input-start",
              placeholder = "ДД.ММ.ГГГГ",
              pattern = "[0-9]{2}.[0-9]{2}.[0-9]{4}",
              required
            )
            .datepicker__icon
        .datepicker__group.js-datepicker__group.datepicker__group_hidden
          label(
            for = "booking-out",
            class = "datepicker__label js-datepicker__label"
          ) Выезд
          .datepicker__input
            input(
              type = "text",
              id = "booking-out",
              class = "datepicker__field datepicker__field_readonly js-datepicker_end js-datepicker__field datepicker_dateInput",
              name = "datepicker-input-end",
              placeholder = "ДД.ММ.ГГГГ",
              pattern = "[0-9]{2}.[0-9]{2}.[0-9]{4}",
              required
              )
            .datepicker__icon
        .datepicker__container.js-datepicker__container.datepicker__container_only-cal.datepicker_active-dp 
          .datepicker__btns
            .datepicker__button.datepicker__button_clear.js-datepicker__button_clear
              +button({
                content: 'Очистить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })
            .datepicker__button.datepicker__button_accept.js-datepicker__button_accept
              +button({
                content: 'Применить',
                btnColor: 'white',
                btnWrapperColor: 'transparent',
                border: 'false',
                btnSize: 'tiny',
              })
